(this["webpackJsonpsneaky-snake"]=this["webpackJsonpsneaky-snake"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);n(0);var a=n(4),c=n.n(a),r=(n(13),n(14),n(3)),i=n(1),o=Object(r.b)((function(e){return{snake:e.snake}}))((function(e){var t=e.snake;return Object(i.jsx)("div",{id:"snake",children:t.map((function(e){return Object(i.jsx)("div",{className:"snakepart",style:{left:10*e.x+"px",top:10*e.y+"px"}},e.x+"_"+e.y)}))})})),s=Object(r.b)((function(e){return{x:e.apple.x,y:e.apple.y}}))((function(e){var t=e.x,n=e.y;return Object(i.jsx)("div",{id:"apple",style:{left:10*t+"px",top:10*n+"px"}})})),d=Object(r.b)((function(e){return{score:e.score}}))((function(e){var t=e.score;return Object(i.jsxs)("div",{id:"score",children:["SCORE: ",Object(i.jsx)("span",{children:t})]})})),u=Object(r.b)((function(e){return{gameState:e.gameState}}))((function(e){switch(e.gameState){case"paused":return Object(i.jsxs)("div",{id:"overlay",children:[Object(i.jsx)("span",{children:"Game Paused"}),"press space to ",Object(i.jsx)("br",{})," continue playing"]});case"over":return Object(i.jsxs)("div",{id:"overlay",children:[Object(i.jsx)("span",{children:"Game Over"}),"press space to ",Object(i.jsx)("br",{})," start a new game"]});default:return null}})),p=Object(r.b)((function(e){return{gameState:e.gameState}}))((function(){return Object(i.jsxs)("div",{id:"App",children:[Object(i.jsx)("h1",{children:"Snake"}),Object(i.jsxs)("div",{id:"field",children:[Object(i.jsx)(s,{}),Object(i.jsx)(o,{}),Object(i.jsx)(u,{})]}),Object(i.jsx)("div",{id:"meta",children:Object(i.jsx)(d,{})})]})})),j=n(2),x=n(8);function b(){return{x:Math.floor(40*Math.random()),y:Math.floor(40*Math.random())}}function O(e,t){return e.x===t.x&&e.y===t.y}var l=function(e){var t=e.direction;e.direction!==e.nextDirection&&("left"===e.direction&&"right"===e.nextDirection||"right"===e.direction&&"left"===e.nextDirection||"down"===e.direction&&"up"===e.nextDirection||"up"===e.direction&&"down"===e.nextDirection||(t=e.nextDirection));var n,a,c=(n=e.snake[e.snake.length-1],"right"===(a=t)?{x:n.x+1,y:n.y}:"left"===a?{x:n.x-1,y:n.y}:"up"===a?{x:n.x,y:n.y-1}:"down"===a?{x:n.x,y:n.y+1}:void 0);if(O(c,e.apple)){var r=function(){for(var n=b();e.snake.some((function(e){return O(n,e)}))||O(n,e.apple);)n=b();return{v:Object(j.a)(Object(j.a)({},e),{},{score:e.score+1,apple:n,snake:e.snake.concat(c),direction:t,nextDirection:t})}}();if("object"===typeof r)return r.v}return e.snake.some((function(e){return O(e,c)}))||c.x>=40||c.y>=40||c.x<0||c.y<0?Object(j.a)(Object(j.a)({},e),{},{gameState:"over"}):Object(j.a)(Object(j.a)({},e),{},{snake:e.snake.concat(c).slice(1),direction:t,nextDirection:t})},y={score:0,snake:[{x:1,y:25},{x:2,y:25},{x:3,y:25}],apple:{x:10,y:25},direction:"right",nextDirection:"right",gameState:"paused"};function h(e){return{type:"CHANGE_DIRECTION",payload:e}}var f=Object(x.a)((function(e,t){if("CHANGE_DIRECTION"===t.type)return Object(j.a)(Object(j.a)({},e),{},{nextDirection:"playing"===e.gameState?t.payload:e.direction});if("TOGGLE_GAMESTATE"===t.type)switch(e.gameState){case"over":return Object(j.a)(Object(j.a)({},y),{},{gameState:"playing"});case"playing":return Object(j.a)(Object(j.a)({},e),{},{gameState:"paused"});default:return Object(j.a)(Object(j.a)({},e),{},{gameState:"playing"})}return"GAME_OVER"===t.type?Object(j.a)(Object(j.a)({},e),{},{gameState:"over"}):"FORCE_PAUSE"===t.type?Object(j.a)(Object(j.a)({},e),{},{gameState:"paused"}):"TICK_TICK"===t.type?l(e):e}),y);c.a.render(Object(i.jsx)(r.a,{store:f,children:Object(i.jsx)(p,{})}),document.getElementById("root"));document.onkeydown=function(e){return 38===(e=e||window.event).which?f.dispatch(h("up")):40===e.which?f.dispatch(h("down")):37===e.which?f.dispatch(h("left")):39===e.which?f.dispatch(h("right")):32===e.which?f.dispatch({type:"TOGGLE_GAMESTATE"}):void 0},window.onblur=function(){"playing"===f.getState().gameState&&f.dispatch({type:"FORCE_PAUSE"})},function e(){var t=f.getState(),n=200-10*Math.floor(t.score/10);setTimeout(e,n),"playing"===t.gameState&&f.dispatch({type:"TICK_TICK"})}()}},[[20,1,2]]]);
//# sourceMappingURL=main.d6bc9b3d.chunk.js.map